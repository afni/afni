cmake_minimum_required(VERSION 2.9)
project(XmHTML)

set(XMHTML_VERSION "1107")
set(XMHTML_ARCHIVE "1.1.7")

set(XMHTML_INSTALL_BIN_DIR "${CMAKE_INSTALL_PREFIX}/bin")
set(XMHTML_INSTALL_LIB_DIR "${CMAKE_INSTALL_PREFIX}/lib")
set(XMHTML_INSTALL_STA_DIR "${XMHTML_INSTALL_LIB_DIR}/static")
set(XMHTML_INSTALL_INCLUDE_DIR "${CMAKE_INSTALL_PREFIX}/include/niml")

set(XMHTML_INCLUDE_DIRS
	"${PROJECT_SOURCE_DIR}/include"
	"${PROJECT_SOURCE_DIR}/include/XmHTML"
	"${PROJECT_SOURCE_DIR}/include/common"
)
set(XMHTML_INCLUDE_DIRS "${XMHTML_INCLUDE_DIRS}" PARENT_SCOPE)
include_directories(${XMHTML_INCLUDE_DIRS})

find_package(Xpm REQUIRED)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -DVERSION=${XMHTML_VERSION} -DMotif -DHAVE_LIBJPEG -DHAVE_REGEX_H")
set(CMAKE_C_FLAGS_RELEASE "${CMAKE_C_FLAGS_RELEASE} -DNDEBUG")

set(XMHTML_LIBRARIES ${XPM_LIBRARIES} XmHTML PARENT_SCOPE)

add_subdirectory(lib)
