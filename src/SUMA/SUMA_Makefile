#

#These normally come from AFNI's makefile, if you're running make without using afni's makefile, you need to set some variables
ifndef CEXTRA
CEXTRA = -Wcomment -Wformat -DUSE_TRACING -fomit-frame-pointer -DHAVE_XDBE
WARNOPT = -Wall -Wno-unused-variable
endif

ifndef RANLIB
RANLIB = /usr/bin/ranlib
endif

ifeq ($(CC),gcc)
#if (on safni) CC starts with gcc then it means makefile is executed from afni's makefile
#can't use ndef with CC because it's always defined
else
#add the option -DSUMA_MOTIF_GLXAREA if you want to use libMesaGLwM.a instead of libMesaGLw.a
CC = gcc -O2 -march=i586 -ffast-math -DLINUX2 -DNO_GAMMA $(CEXTRA)
endif

ifndef INSTALLDIR
INSTALLDIR_SUMA = /home/ziad/abin
else
#send suma to one directory back and let Makefile.INCLUDE move it to INSTALLDIR
INSTALLDIR_SUMA = ../
endif 

CCOPT = 

ifndef SUMA_INCLUDE_PATH
SUMA_INCLUDE_PATH = -Igts/src -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include/ -I/usr/X11R6/include -I./ -I../ -I../niml/
endif
ifndef SUMA_LINK_PATH
SUMA_LINK_PATH = -L/usr/lib -L/usr/X11R6/lib -L../
endif
ifndef SUMA_LINK_LIB
#No need for those unless you are using SUMA_MOTIF_GLXAREA
#-lMesaGLwM lXm 
SUMA_LINK_LIB = -lGLw -lGLU -lGL -lXmu -lXm -lXp -lXt -lXext -lX11 -lm -lglib 
endif

ifndef SUMA_BIN_ARCHIVE
SUMA_BIN_ARCHIVE = SUMA_Local.tar
endif

ifndef CP
CP = cp
endif

ifndef MV
MV = /bin/mv
endif

ifndef TAR
TAR = /bin/tar
endif

ifndef RM
RM = /bin/rm -f
endif

ifndef MKDIR
MKDIR = /bin/mkdir
endif

#that one was tried for static linking. Bad idea. Requires libGL.a which crashes with nvidia driver 
#for static linking to work (forget about running the program) you need to build Mesa with the 
#options --enable-static --without-glide with the ./configure script
# ./configure --prefix=/usr --enable-static --without-glide
#CCOPT = -static
#SUMA_LINK_LIB = -lGLU -lGL -lpthread -lXmu -lXm -lXp -lXext -lXt -lSM -lICE -lX11 -lm 

include SUMA_Makefile_NoDev
