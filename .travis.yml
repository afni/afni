language: c

addons:
  apt:
    packages:
      - f2c
      - freeglut3-dev
      - libf2c2-dev
      - libglew-dev
      - libglw1-mesa-dev
      - libinsighttoolkit4-dev
      - libmotif-dev
      - libnifti-dev
      - libxp-dev
      - libgsl0-dev

install:
    - F2C_PKG='libf2c2'
    - F2C_MOD='-dev'
    - F2C_VERSION='20130926-2_amd64'

    - wget "http://archive.ubuntu.com/ubuntu/pool/universe/libf/${F2C_PKG}/${F2C_PKG}_${F2C_VERSION}.deb"
           "http://archive.ubuntu.com/ubuntu/pool/universe/libf/${F2C_PKG}/${F2C_PKG}${F2C_MOD}_${F2C_VERSION}.deb"
    - sudo dpkg -i "${F2C_PKG}${F2C_MOD}_${F2C_VERSION}.deb"
                   "${F2C_PKG}_${F2C_VERSION}.deb"

script:
    - mkdir build; cd build
    - cmake ..
    - make -j$(nproc)
    - make test
